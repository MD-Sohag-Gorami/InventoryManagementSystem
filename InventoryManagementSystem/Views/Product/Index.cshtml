@model IEnumerable<ProductViewModel>

@{
    ViewData["Title"] = "Index";

    //this portion for pagination
    Pager pager = new Pager();
    int pageNo = 0;
    if (ViewBag.Pager != null)
    {
        pager = ViewBag.Pager;
        pageNo = pager.CurrentPage;
    }

    var warehouseList = ViewBag.AvailableWarehouse;

}

@*<button type="submit"><a class="nav-link text-dark" asp-area="" asp-controller="Product" asp-action="AddProduct">Add Product</a></button>*@


@* <form asp-controller="Product" asp-action="Index">
        <p>
            <input type="text" name="productSearch"/>
            <button type="submit" >Submit</button>
        </p>

</form>*@


<div class="container">
    <div class="row">
        <div class="col-sm">
            @*For Searching for product*@
            <form asp-controller="Product" asp-action="Index">
                <p>
                    <label for="productSearch"> Product Name: </label>
                    <input type="search" placeholder="Enter Product Name " name="ProductSearch" style="widows:300px;" />

                </p>
                <p>
                    <label for="warehouseId">Choose a Warehouse:</label>

                    @if (warehouseList != null)
                    {
                        <select name="warehouseId">
                            <option value="">All</option>
                            @for (int i = 0; i < warehouseList.Count; i++)
                            {
                                <option value="@warehouseList[i].Value">@warehouseList[i].Text</option>
                            }

                        </select>

                    }

                </p>

                <p>
                    <label for="dateWiseProductSearch"> Product Date : </label>
                    <input type="date" placeholder="Enter Date : MM/DD/YYYY" name="dateWiseProductSearch" style="widows:300px;" />

                </p>
                <p>
                    <input type="submit" value="Search" class="btn-primary" />
                </p>
            </form>
        </div>
        <br />
        <br />
        <div class="col-sm">
            <button>
                <a asp-controller="Product" asp-action="AddProduct"  style="color: white; text-decoration:none;">
                    AddProduct
                </a>
            </button>
        </div>

    </div>
</div>



<table class="ProductTable" styel="width:100%">
    <thead>
        <tr>
            <th>
                Product Name
            </th>
            <th>
                PurchasePrice
            </th>
            <th>
                SellPrice
            </th>
            <th>
                ProQnty
            </th>
            <th>
                Edit
            </th>
            <th>
                Delete
            </th>
            <th>
                Details
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var product in Model)
        {
            <tr>
                <td width="20%">
                    @product.Name
                </td>
                <td width="20%">
                    @product.PurchasePrice
                </td>
                <td width="15%">
                    @product.SellPrice
                </td>
                <td width="15%">
                    @product.ProductQnty
                </td>
                <td>
                    <a asp-controller="Product" asp-action="Edit" asp-route-id="@product.Id"> Edit </a>
                </td>
                <td>
                    <a asp-controller="Product" asp-action="Delete" asp-route-id="@product.Id"> Delete </a>

                </td>
                <td>
                    <a asp-controller="Product" asp-action="Detail" asp-route-id="@product.Id"> Details </a>
                </td>
            </tr>
        }
    </tbody>
</table>

<partial name="_ProductPager" model="@pager" />

